{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\Motar\\\\Desktop\\\\Online\\\\mandatory-advanced-js5\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\Motar\\\\Desktop\\\\Online\\\\mandatory-advanced-js5\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\Motar\\\\Desktop\\\\Online\\\\mandatory-advanced-js5\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Motar\\\\Desktop\\\\Online\\\\mandatory-advanced-js5\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Motar\\\\Desktop\\\\Online\\\\mandatory-advanced-js5\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Motar\\\\Desktop\\\\Online\\\\mandatory-advanced-js5\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Motar\\\\Desktop\\\\Online\\\\mandatory-advanced-js5\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import DropdownOptions from\"./DropdownOptions\";import{Link}from'react-router-dom';import folderImg from'../Img/folder-img.png';import fileImg from'../Img/file-img.png';var Folders=/*#__PURE__*/function(_Component){_inherits(Folders,_Component);function Folders(props){var _this;_classCallCheck(this,Folders);_this=_possibleConstructorReturn(this,_getPrototypeOf(Folders).call(this,props));_this.downloadFile=function(file){_this.props.dbx.filesDownload({path:file}).then(function(res){console.log(res);var objURL=window.URL.createObjectURL(res.fileBlob);_this.setState({URL:objURL});});};_this.updateFolderName=function(e){_this.setState({folderRename:e.target.value});};_this.updateFileName=function(e){_this.setState({fileRename:e.target.value});};_this.onDelete=function(path_delete,tag){if(tag==='folder'){var folders=_this.props.folders;_this.props.dbx.filesDelete({path:path_delete}).then(function(response){var favoritesFolders=JSON.parse(localStorage.getItem('favoritesFolders'));var newFavouriteFolders=favoritesFolders.filter(function(favouriteFolder){return favouriteFolder.id!==response.id;});localStorage.setItem('favoritesFolders',JSON.stringify(newFavouriteFolders));var newFolder=folders.filter(function(folder){return folder.name!==response.name;});_this.props.setFolderState(newFolder);_this.setState({starArrayFolders:newFavouriteFolders});});}else{var files=_this.props.files;var newfavoritesFiles;_this.props.dbx.filesDelete({path:path_delete}).then(function(response){var newFiles=files.filter(function(files){if(files['.tag']==='failure'){return null;}else{var favoritesFiles=JSON.parse(localStorage.getItem('favorites'));newfavoritesFiles=favoritesFiles.filter(function(favoritesFile){return favoritesFile.metadata.id!==response.id;});localStorage.setItem('favorites',JSON.stringify(newfavoritesFiles));return files.metadata.name!==response.name;}});_this.props.setFileState(newFiles);_this.setState({starArray:newfavoritesFiles});});}};_this.renameFolders=function(path,id){var newName=_this.state.folderRename;var newfavoritesFolders=[];var newPath=path.split('/');newPath[newPath.length-1]=newName;newPath=newPath.filter(function(path){return path!==\"\";});newPath=newPath.reduce(function(acc,currentpath){return acc+\"/\".concat(currentpath);},\"\");_this.props.dbx.filesMoveV2({from_path:path,to_path:newPath}).then(function(res){var favoritesFolders=JSON.parse(localStorage.getItem('favoritesFolders')||\"[]\");newfavoritesFolders=favoritesFolders.map(function(favoritesFolder){return favoritesFolder.id===res.metadata.id?_objectSpread({},favoritesFolder,{},res.metadata):favoritesFolder;});window.localStorage.setItem('favoritesFolders',JSON.stringify(newfavoritesFolders));var newFolders=_toConsumableArray(_this.props.folders);var idx=newFolders.findIndex(function(x){return x.id===id;});newFolders[idx]=res.metadata;_this.props.setFolderState(newFolders);_this.setState({starArrayFolders:newfavoritesFolders});});};_this.renameFiles=function(path,id){var newName=_this.state.fileRename;var newfavoritesFiles=[];var fileType=path.split(\".\");fileType=fileType[fileType.length-1];var newPath=path.split('/');newPath[newPath.length-1]=newName;newPath=newPath.filter(function(path){return path!==\"\";});newPath=newPath.reduce(function(acc,currentpath){return acc+\"/\".concat(currentpath);},\"\")+\".\"+fileType;_this.props.dbx.filesMoveV2({from_path:path,to_path:newPath}).then(function(res){var newFiles=_toConsumableArray(_this.props.files);var idx=newFiles.findIndex(function(x){if(x['.tag']==='failure'){return null;}else{var favoritesFiles=JSON.parse(localStorage.getItem('favorites'));if(favoritesFiles!==null){newfavoritesFiles=favoritesFiles.map(function(favoritesFile){return favoritesFile.metadata.id===res.metadata.id?_objectSpread({},favoritesFile,{},res):favoritesFile;});window.localStorage.setItem('favorites',JSON.stringify(newfavoritesFiles));}return x.metadata.id===id;}});newFiles[idx]=res.metadata;_this.props.setFileState(newFiles);_this.setState({starArray:newfavoritesFiles});});};_this.starFile=function(file){var newStarArray;var starArray=_this.state.starArray;console.log(\"file\",file);if(starArray.find(function(x){return x.metadata.id===file.metadata.id;})){newStarArray=starArray.filter(function(x){return x.metadata.id!==file.metadata.id;});}else{newStarArray=[].concat(_toConsumableArray(_this.state.starArray),[file]);}var favorites=JSON.parse(localStorage.getItem('favorites'));localStorage.setItem('favorites',JSON.stringify(newStarArray));_this.setState({starArray:newStarArray});};_this.starFolder=function(folder){var newstarArrayFolders;var starArrayFolders=_this.state.starArrayFolders;if(starArrayFolders.find(function(y){return y.id===folder.id;})){newstarArrayFolders=starArrayFolders.filter(function(y){return y.id!==folder.id;});}else{newstarArrayFolders=[].concat(_toConsumableArray(_this.state.starArrayFolders),[folder]);}var favoritesFolders=JSON.parse(localStorage.getItem('favoritesFolders'));localStorage.setItem('favoritesFolders',JSON.stringify(newstarArrayFolders));_this.setState({starArrayFolders:newstarArrayFolders});};_this.state={URL:null,starArray:[],starArrayFolders:[],folderRename:'',fileRename:''};return _this;}// denna funktionen laddar ner filer\n_createClass(Folders,[{key:\"componentDidMount\",// ifall de finns något i localStorage så sparar vi de i state --> starArray och starArrayFolders!\nvalue:function componentDidMount(){this.setState({starArray:JSON.parse(window.localStorage.getItem(\"favorites\")||\"[]\"),starArrayFolders:JSON.parse(window.localStorage.getItem(\"favoritesFolders\")||\"[]\")});}// här renderar vi ut alla våra filer och folders, samt favorit filer och favorit folders!\n},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,files=_this$props.files,folders=_this$props.folders;var URL=this.state.URL;// denna variabel renderar ut våra filer!\nvar minaFiler=files.map(function(file){var image=\"data:image/jpeg;base64,\".concat(file.thumbnail);var fileName;var date_input;var datum;var size;var newSize;var i;var id;var path;var starredFiles=[];if(file[\".tag\"]===\"failure\"){return null;}else{if(file.metadata){starredFiles=_this2.state.starArray.find(function(x){return file[\".tag\"]!==\"failure\"?x.metadata.id===file.metadata.id:null;});fileName=file.metadata.name;date_input=new Date(file.metadata.client_modified);datum=new Date(date_input).toDateString();size=file.metadata.size;i=Math.floor(Math.log(size)/Math.log(1024));newSize=(size/Math.pow(1024,i)).toFixed(2)*1+\"\"+['B','kB','MB','GB','TB'][i];id=file.metadata.id;path=file.metadata.path_display;}else{starredFiles=_this2.state.starArray.find(function(x){return file[\".tag\"]!==\"failure\"?x.id===file.metadata.id:null;});fileName=file.name;date_input=new Date(file.client_modified);datum=new Date(date_input).toDateString();size=file.size;i=Math.floor(Math.log(size)/Math.log(1024));newSize=(size/Math.pow(1024,i)).toFixed(2)*1+\"\"+['B','kB','MB','GB','TB'][i];id=file.id;path=file.path_display;}}return React.createElement(\"tr\",null,React.createElement(\"td\",null,React.createElement(\"div\",{style:{display:'flex'}},React.createElement(\"img\",{src:file.thumbnail!==null?image:fileImg,style:{height:'42px',width:'42px'},alt:\"\"}),React.createElement(\"a\",{onClick:function onClick(){return _this2.downloadFile(path);},href:URL,download:fileName},fileName),React.createElement(\"span\",null,\" Latest change: \"+datum),React.createElement(\"span\",null,\" Filesize: \"+newSize),React.createElement(\"td\",{className:\"dropdownList\"},React.createElement(DropdownOptions,{onDelete:_this2.onDelete,tag:file['.tag'],path:path,name:fileName,id:id,path_display:file.metadata.path_display,updateFileName:_this2.updateFileName,renameFiles:_this2.renameFiles,copy:_this2.props.copy}))),React.createElement(\"div\",{className:\"tdInputDivv\",style:{display:'flex'}},React.createElement(\"input\",{checked:!!starredFiles,className:\"checkboxFiles\",type:\"checkbox\",id:file.id,onClick:_this2.starFile.bind(_this2,file)}))));});// denna variabel renderar ut våra folders!\nvar minaFolders=folders.map(function(folder){// render img icons to folders !\nvar type=folder['.tag'];var folderThumbnail;var starredFolders=_this2.state.starArrayFolders.find(function(x){return x.id===folder.id;});if(type==='folder'){folderThumbnail=folderImg;return React.createElement(\"tr\",null,React.createElement(\"td\",null,React.createElement(\"div\",{style:{display:'flex'}},React.createElement(\"img\",{src:folderThumbnail,style:{height:'42px',width:'42px'},alt:\"\"}),React.createElement(Link,{to:\"/mandatory-advanced-js5/main\".concat(folder.path_display)},folder.name),React.createElement(\"td\",{className:\"dropdownList\"},React.createElement(DropdownOptions,{onDelete:_this2.onDelete,tag:folder['.tag'],path:folder.path_display,name:folder.name,id:folder.id,path_display:folder.path_display,updateFolderName:_this2.updateFolderName,renameFolders:_this2.renameFolders,copy:_this2.props.copy}))),React.createElement(\"div\",{className:\"tdInputDiv\",style:{display:'flex'}},React.createElement(\"input\",{checked:!!starredFolders,className:\"checkbox\",type:\"checkbox\",id:folder.id,onClick:_this2.starFolder.bind(_this2,folder)}))));}});// denna variabel renderar ut våra favorit filer!\nvar favFiles=this.state.starArray.map(function(favfile){var image=\"data:image/jpeg;base64,\".concat(favfile.thumbnail);var fileName;var datum;var date_input;var size;var newSize;var i;fileName=favfile.metadata.name;size=favfile.metadata.size;i=Math.floor(Math.log(size)/Math.log(1024));newSize=(size/Math.pow(1024,i)).toFixed(2)*1+\"\"+['B','kB','MB','GB','TB'][i];date_input=new Date(favfile.metadata.client_modified);datum=new Date(date_input).toDateString();return React.createElement(\"tr\",null,React.createElement(\"td\",null,React.createElement(\"div\",{style:{display:'flex'}},React.createElement(\"img\",{src:favfile.thumbnail!==null?image:fileImg,style:{height:'42px',width:'42px'},alt:\"\"}),React.createElement(\"a\",{onClick:function onClick(){return _this2.downloadFile(favfile.metadata.path_display);},href:_this2.state.URL,download:favfile.metadata.name,className:\"favfile\",key:favfile.metadata.id},\" \",favfile.metadata.name,\" \"),React.createElement(\"span\",null,\" Latest change: \"+datum),React.createElement(\"span\",null,\" Filesize: \"+newSize))));});// denna variabel renderar ut våra favorit folders!\nvar favFolders=this.state.starArrayFolders.map(function(favfolder){var folderName;var type=favfolder['.tag'];var folderThumbnail;if(type==='folder'){folderThumbnail=folderImg;folderName=favfolder.name;return React.createElement(\"tr\",null,React.createElement(\"td\",null,React.createElement(\"div\",{style:{display:'flex'}},React.createElement(\"img\",{src:folderThumbnail,style:{height:'42px',width:'42px'},alt:\"\"}),React.createElement(Link,{to:\"/mandatory-advanced-js5/main\".concat(favfolder.path_display)},favfolder.name))));}});return React.createElement(\"div\",{className:\"files\"},React.createElement(\"table\",{className:\"table\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"Folder/file name\"))),React.createElement(\"tbody\",null,React.createElement(\"h2\",null,\"Folders!\"),minaFolders,React.createElement(\"h2\",{style:{marginTop:'10%'}},\"Files!\"),minaFiler,React.createElement(\"h2\",{style:{marginTop:'10%'}},\"Favorite Folders!\"),favFolders,React.createElement(\"h2\",{style:{marginTop:'10%'}},\"Favorite Files!\"),favFiles)));}}]);return Folders;}(Component);export default Folders;","map":{"version":3,"sources":["C:/Users/Motar/Desktop/Online/mandatory-advanced-js5/src/Components/Folders.js"],"names":["React","Component","DropdownOptions","Link","folderImg","fileImg","Folders","props","downloadFile","file","dbx","filesDownload","path","then","res","console","log","objURL","window","URL","createObjectURL","fileBlob","setState","updateFolderName","e","folderRename","target","value","updateFileName","fileRename","onDelete","path_delete","tag","folders","filesDelete","response","favoritesFolders","JSON","parse","localStorage","getItem","newFavouriteFolders","filter","favouriteFolder","id","setItem","stringify","newFolder","folder","name","setFolderState","starArrayFolders","files","newfavoritesFiles","newFiles","favoritesFiles","favoritesFile","metadata","setFileState","starArray","renameFolders","newName","state","newfavoritesFolders","newPath","split","length","reduce","acc","currentpath","filesMoveV2","from_path","to_path","map","favoritesFolder","newFolders","idx","findIndex","x","renameFiles","fileType","starFile","newStarArray","find","favorites","starFolder","newstarArrayFolders","y","minaFiler","image","thumbnail","fileName","date_input","datum","size","newSize","i","starredFiles","Date","client_modified","toDateString","Math","floor","pow","toFixed","path_display","display","height","width","copy","bind","minaFolders","type","folderThumbnail","starredFolders","favFiles","favfile","favFolders","favfolder","folderName","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport DropdownOptions from \"./DropdownOptions\"\r\nimport {Link} from 'react-router-dom'\r\nimport folderImg from '../Img/folder-img.png';\r\nimport fileImg from '../Img/file-img.png'\r\n\r\nclass Folders extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      URL: null,\r\n      starArray: [],\r\n      starArrayFolders: [],\r\n      folderRename: '',\r\n      fileRename: '',\r\n    }\r\n  }\r\n\r\n  // denna funktionen laddar ner filer\r\n  downloadFile = (file) => {\r\n    this.props.dbx.filesDownload({path: file})\r\n    .then(res => {\r\n      console.log(res)\r\n      let objURL = window.URL.createObjectURL(res.fileBlob);\r\n      this.setState({ URL: objURL });\r\n    });\r\n  }\r\n\r\n  // denna funktion har koppling med rename, de vi skriver vi sparar de i state\r\n  updateFolderName = e => {\r\n    this.setState({ folderRename: e.target.value });\r\n  }\r\n\r\n  // denna funktion har koppling med rename, de vi skriver vi sparar de i state\r\n  updateFileName = e => {\r\n    this.setState({ fileRename: e.target.value });\r\n  }\r\n\r\n  // tar bort filer och stänger delete window\r\n  onDelete = (path_delete, tag) =>{\r\n    if(tag === 'folder'){\r\n    const{folders} = this.props\r\n    this.props.dbx.filesDelete({path: path_delete})\r\n    .then(response =>{\r\n      let favoritesFolders = JSON.parse(localStorage.getItem('favoritesFolders'));\r\n      let newFavouriteFolders = favoritesFolders.filter( favouriteFolder => favouriteFolder.id !== response.id)\r\n      localStorage.setItem('favoritesFolders', JSON.stringify(newFavouriteFolders))\r\n      let newFolder = folders.filter( folder => folder.name !== response.name)\r\n      this.props.setFolderState(newFolder)\r\n      this.setState({starArrayFolders: newFavouriteFolders})\r\n    })\r\n  } else {\r\n    const{files} = this.props\r\n    let newfavoritesFiles\r\n    this.props.dbx.filesDelete({path: path_delete})\r\n    .then(response =>{\r\n      let newFiles = files.filter( files => {\r\n        if (files['.tag'] === 'failure') {\r\n          return null;\r\n        }\r\n        else {\r\n          let favoritesFiles = JSON.parse(localStorage.getItem('favorites'));\r\n          newfavoritesFiles = favoritesFiles.filter( favoritesFile => favoritesFile.metadata.id !== response.id)\r\n          localStorage.setItem('favorites', JSON.stringify(newfavoritesFiles))\r\n          return files.metadata.name !== response.name;\r\n        }\r\n      })\r\n      this.props.setFileState(newFiles)\r\n      this.setState({starArray: newfavoritesFiles})\r\n    })\r\n  }\r\n  }\r\n\r\n  // funktionen renama för foldern\r\n  renameFolders = (path, id) => {\r\n    const newName = this.state.folderRename;\r\n    let newfavoritesFolders = []\r\n    let newPath = path.split('/')\r\n    newPath[newPath.length-1] = newName\r\n    newPath = newPath.filter(path => path !== \"\")\r\n    newPath = newPath.reduce((acc,currentpath) => (acc + `/${currentpath}`),\"\")\r\n    this.props.dbx.filesMoveV2({\r\n      from_path: path,\r\n      to_path: newPath,\r\n    })\r\n    .then(res => {\r\n      let favoritesFolders = JSON.parse(localStorage.getItem('favoritesFolders') || \"[]\");\r\n      newfavoritesFolders = favoritesFolders.map(favoritesFolder => favoritesFolder.id === res.metadata.id ? {...favoritesFolder, ...res.metadata} : favoritesFolder)\r\n      window.localStorage.setItem('favoritesFolders', JSON.stringify(newfavoritesFolders))\r\n      const newFolders = [...this.props.folders];\r\n      const idx = newFolders.findIndex(x => x.id === id);\r\n      newFolders[idx] = res.metadata;\r\n\r\n      this.props.setFolderState(newFolders)\r\n      this.setState({starArrayFolders: newfavoritesFolders})\r\n    })\r\n  }\r\n\r\n  // funktionen renama för files\r\n  renameFiles = (path, id) => {\r\n    const newName = this.state.fileRename;\r\n    let newfavoritesFiles = []\r\n    let fileType = path.split(\".\")\r\n    fileType = fileType[fileType.length-1]\r\n    let newPath = path.split('/')\r\n    newPath[newPath.length-1] = newName\r\n    newPath = newPath.filter(path => path !== \"\")\r\n    newPath = newPath.reduce((acc,currentpath) => (acc + `/${currentpath}`),\"\") + \".\" + fileType\r\n\r\n    this.props.dbx.filesMoveV2({\r\n      from_path: path,\r\n      to_path: newPath,\r\n    })\r\n    .then(res => {\r\n      const newFiles = [...this.props.files];\r\n      const idx = newFiles.findIndex(x => {\r\n        if (x['.tag'] === 'failure') {\r\n          return null\r\n        }\r\n        else {\r\n          let favoritesFiles = JSON.parse(localStorage.getItem('favorites'));\r\n          if(favoritesFiles !== null){\r\n          newfavoritesFiles = favoritesFiles.map(favoritesFile => favoritesFile.metadata.id === res.metadata.id ? {...favoritesFile, ...res} : favoritesFile)\r\n          window.localStorage.setItem('favorites', JSON.stringify(newfavoritesFiles))\r\n        }\r\n          return x.metadata.id === id;\r\n        }\r\n      })\r\n      newFiles[idx] = res.metadata;\r\n\r\n      this.props.setFileState(newFiles);\r\n      this.setState({starArray: newfavoritesFiles})\r\n    })\r\n  }\r\n\r\n  // funktionen sparar alla markerade filer med stjärna i localStorage\r\n  starFile = (file) => {\r\n    let newStarArray;\r\n    const { starArray } = this.state;\r\n    console.log(\"file\", file)\r\n    if(starArray.find(x => x.metadata.id === file.metadata.id)) {\r\n      newStarArray = starArray.filter(x => x.metadata.id !== file.metadata.id)\r\n    }else {\r\n      newStarArray = [...this.state.starArray, file];\r\n    }\r\n\r\n    let favorites = JSON.parse(localStorage.getItem('favorites'));\r\n    localStorage.setItem('favorites', JSON.stringify(newStarArray));\r\n      this.setState({\r\n        starArray: newStarArray\r\n      })\r\n}\r\n\r\n// funktionen sparar alla markerade folders med stjärna i localStorage\r\n  starFolder = (folder) => {\r\n    let newstarArrayFolders;\r\n    const { starArrayFolders } = this.state;\r\n\r\n    if(starArrayFolders.find(y => y.id === folder.id)) {\r\n      newstarArrayFolders = starArrayFolders.filter(y => y.id !== folder.id)\r\n    }else {\r\n      newstarArrayFolders = [...this.state.starArrayFolders, folder];\r\n    }\r\n\r\n    let favoritesFolders = JSON.parse(localStorage.getItem('favoritesFolders'));\r\n    localStorage.setItem('favoritesFolders', JSON.stringify(newstarArrayFolders));\r\n      this.setState({\r\n        starArrayFolders: newstarArrayFolders\r\n      })\r\n  }\r\n\r\n  // ifall de finns något i localStorage så sparar vi de i state --> starArray och starArrayFolders!\r\n  componentDidMount() {\r\n  this.setState({\r\n    starArray: JSON.parse(window.localStorage.getItem(\"favorites\") || \"[]\"),\r\n    starArrayFolders: JSON.parse(window.localStorage.getItem(\"favoritesFolders\") || \"[]\"),\r\n  });\r\n}\r\n\r\n  // här renderar vi ut alla våra filer och folders, samt favorit filer och favorit folders!\r\n  render() {\r\n      const{ files, folders } = this.props\r\n      const{ URL } = this.state\r\n\r\n      // denna variabel renderar ut våra filer!\r\n      let minaFiler = files.map(file => {\r\n          let image = `data:image/jpeg;base64,${file.thumbnail}`;\r\n          let fileName\r\n          let date_input\r\n          let datum\r\n          let size\r\n          let newSize\r\n          let i\r\n          let id\r\n          let path\r\n          let starredFiles = []\r\n\r\n          if(file[\".tag\"] === \"failure\"){\r\n            return null\r\n          }\r\n          else {\r\n            if (file.metadata) {\r\n              starredFiles = this.state.starArray\r\n              .find(x => file[\".tag\"] !== \"failure\" ?  x.metadata.id === file.metadata.id : null)\r\n\r\n              fileName = file.metadata.name;\r\n              date_input = new Date((file.metadata.client_modified));\r\n              datum = new Date(date_input).toDateString();\r\n\r\n              size = file.metadata.size;\r\n              i = Math.floor(Math.log(size) / Math.log(1024));\r\n              newSize = (size / Math.pow(1024, i)).toFixed(2) * 1 + \"\"+['B', 'kB', 'MB', 'GB', 'TB'][i];\r\n\r\n              id = file.metadata.id;\r\n              path = file.metadata.path_display;\r\n            }\r\n            else {\r\n              starredFiles = this.state.starArray\r\n              .find(x => file[\".tag\"] !== \"failure\" ?  x.id === file.metadata.id : null)\r\n\r\n              fileName = file.name;\r\n              date_input = new Date((file.client_modified));\r\n              datum = new Date(date_input).toDateString();\r\n\r\n              size = file.size;\r\n              i = Math.floor(Math.log(size) / Math.log(1024));\r\n              newSize = (size / Math.pow(1024, i)).toFixed(2) * 1 + \"\"+['B', 'kB', 'MB', 'GB', 'TB'][i];\r\n\r\n              id = file.id;\r\n              path = file.path_display;\r\n            }\r\n          }\r\n\r\n          return (\r\n            <tr>\r\n              <td>\r\n              <div style={{ display: 'flex' }}>\r\n                <img src={file.thumbnail !== null ? image : fileImg } style={{ height: '42px', width: '42px' }} alt=\"\"/>\r\n                <a onClick={() => this.downloadFile(path)} href={URL} download={fileName}>{fileName}</a>\r\n\r\n                <span>{\" Latest change: \" + datum}</span>\r\n                <span>{\" Filesize: \" + newSize}</span>\r\n\r\n                <td className=\"dropdownList\">\r\n                  <DropdownOptions\r\n                    onDelete={this.onDelete}\r\n                    tag={file['.tag']}\r\n                    path={path}\r\n                    name={fileName}\r\n                    id={id}\r\n                    path_display={file.metadata.path_display}\r\n                    updateFileName={this.updateFileName}\r\n                    renameFiles={this.renameFiles}\r\n                    copy={this.props.copy}\r\n                  />\r\n                </td>\r\n\r\n              </div>\r\n              <div className=\"tdInputDivv\" style={{display: 'flex'}}>\r\n              <input  checked={!!starredFiles} className=\"checkboxFiles\" type=\"checkbox\"  id={file.id} onClick={this.starFile.bind(this, file)} />\r\n              </div>\r\n              </td>\r\n            </tr>\r\n          )\r\n      })\r\n\r\n      // denna variabel renderar ut våra folders!\r\n      let minaFolders = folders.map(folder => {\r\n          // render img icons to folders !\r\n          const type = folder['.tag'];\r\n          let folderThumbnail\r\n\r\n          const starredFolders = this.state.starArrayFolders\r\n            .find(x => x.id === folder.id);\r\n\r\n          if (type === 'folder') {\r\n            folderThumbnail = folderImg;\r\n          return (\r\n            <tr>\r\n              <td>\r\n              <div style={{ display: 'flex'}}>\r\n              <img src={folderThumbnail} style={{ height: '42px', width: '42px' }} alt=\"\"/>\r\n\r\n              <Link to={`/mandatory-advanced-js5/main${folder.path_display}`}>\r\n                {folder.name}\r\n              </Link>\r\n                  <td className=\"dropdownList\">\r\n                    <DropdownOptions\r\n                      onDelete={this.onDelete}\r\n                      tag={folder['.tag']}\r\n                      path={folder.path_display}\r\n                      name={folder.name}\r\n                      id={folder.id}\r\n                      path_display={folder.path_display}\r\n                      updateFolderName={this.updateFolderName}\r\n                      renameFolders={this.renameFolders}\r\n                      copy={this.props.copy}\r\n                    />\r\n                  </td>\r\n              </div>\r\n              <div className=\"tdInputDiv\" style={{display: 'flex'}}>\r\n                  <input checked={!!starredFolders} className=\"checkbox\" type=\"checkbox\"  id={folder.id} onClick={this.starFolder.bind(this, folder)} />\r\n                  </div>\r\n              </td>\r\n            </tr>\r\n          )\r\n        }\r\n      })\r\n\r\n      // denna variabel renderar ut våra favorit filer!\r\n      let favFiles = this.state.starArray.map(favfile => {\r\n        let image = `data:image/jpeg;base64,${favfile.thumbnail}`;\r\n\r\n        let fileName\r\n        let datum\r\n        let date_input\r\n        let size\r\n        let newSize\r\n        let i\r\n\r\n        fileName = favfile.metadata.name;\r\n        size = favfile.metadata.size;\r\n        i = Math.floor(Math.log(size) / Math.log(1024));\r\n        newSize = (size / Math.pow(1024, i)).toFixed(2) * 1 + \"\"+['B', 'kB', 'MB', 'GB', 'TB'][i];\r\n        date_input = new Date((favfile.metadata.client_modified));\r\n        datum = new Date(date_input).toDateString();\r\n          return (\r\n            <tr>\r\n              <td>\r\n                <div style={{ display: 'flex' }}>\r\n                <img src={favfile.thumbnail !== null ? image : fileImg} style={{ height: '42px', width: '42px' }} alt=\"\"/>\r\n                  <a onClick={() => this.downloadFile(favfile.metadata.path_display)} href={this.state.URL} download={favfile.metadata.name} className=\"favfile\" key={favfile.metadata.id}> {favfile.metadata.name} </a>\r\n                  <span>{\" Latest change: \" + datum}</span>\r\n                  <span>{ \" Filesize: \" + newSize}</span>\r\n            </div>\r\n            </td>\r\n            </tr>\r\n          )\r\n      });\r\n\r\n      // denna variabel renderar ut våra favorit folders!\r\n        let favFolders = this.state.starArrayFolders.map(favfolder => {\r\n          let folderName;\r\n          const type = favfolder['.tag'];\r\n          let folderThumbnail\r\n\r\n          if (type === 'folder') {\r\n            folderThumbnail = folderImg;\r\n          folderName = favfolder.name;\r\n            return (\r\n              <tr>\r\n                <td>\r\n                  <div style={{ display: 'flex' }}>\r\n                    <img src={folderThumbnail} style={{ height: '42px', width: '42px' }} alt=\"\"/>\r\n                    <Link to={`/mandatory-advanced-js5/main${favfolder.path_display}`}>\r\n                      {favfolder.name}\r\n                    </Link>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n              )\r\n            }\r\n          })\r\n\r\n          return(\r\n            <div className=\"files\">\r\n            <table className=\"table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Folder/file name</th>\r\n                  </tr>\r\n              </thead>\r\n              <tbody>\r\n              <h2>Folders!</h2>\r\n                {minaFolders}\r\n\r\n              <h2 style={{ marginTop: '10%' }}>Files!</h2>\r\n                {minaFiler}\r\n\r\n              <h2 style={{ marginTop: '10%' }} >Favorite Folders!</h2>\r\n                {favFolders}\r\n\r\n              <h2 style={{ marginTop: '10%' }} >Favorite Files!</h2>\r\n                {favFiles}\r\n            </tbody>\r\n            </table>\r\n        </div>\r\n      )\r\n  }\r\n}\r\n\r\nexport default Folders"]},"metadata":{},"sourceType":"module"}