{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Motar\\\\Desktop\\\\Online\\\\mandatory-advanced-js5\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:\\\\Users\\\\Motar\\\\Desktop\\\\Online\\\\mandatory-advanced-js5\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:\\\\Users\\\\Motar\\\\Desktop\\\\Online\\\\mandatory-advanced-js5\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Motar\\\\Desktop\\\\Online\\\\mandatory-advanced-js5\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Motar\\\\Desktop\\\\Online\\\\mandatory-advanced-js5\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Motar\\\\Desktop\\\\Online\\\\mandatory-advanced-js5\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Motar\\\\Desktop\\\\Online\\\\mandatory-advanced-js5\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import CreateFolder from'./CreateFolder';import GoBack from'./GoBack';import'../Css/icons.css';import'../Css/mainFiles.css';import'../Css/nav.css';import'../Css/UlItems.css';// Det är vår nav som finns i höger sidan!\nvar RightNav=/*#__PURE__*/function(_Component){_inherits(RightNav,_Component);function RightNav(props){var _this;_classCallCheck(this,RightNav);_this=_possibleConstructorReturn(this,_getPrototypeOf(RightNav).call(this,props));_this.createFile=function(){_this.inputRef.current.click();};_this.onShowCreateFolder=function(){_this.setState({showCreateFolder:true});};_this.onCloseCreateFolder=function(){_this.setState({showCreateFolder:false});};_this.onChangeFile=function(){var files=_this.props.files;var file=_this.inputRef.current.files[0];if(file){var path=\"/\".concat(file.name);if(_this.props.path){path=\"/\".concat(_this.props.path,\"/\").concat(file.name);}_this.props.dbx.filesUpload({contents:file,path:path,autorename:true}).then(function(response){var file={};file[\".tag\"]=\"success\";var createFile={file:file,metadata:response};var uniteFiles=[].concat(_toConsumableArray(files),[createFile]);_this.props.setFileState(uniteFiles);});}};_this.createFolder=function(name){var folders=_this.props.folders;var path=\"/\".concat(name);if(_this.props.path){path=\"/\".concat(_this.props.path,\"/\").concat(name);}_this.props.dbx.filesCreateFolderV2({path:path,autorename:true}).then(function(response){var folder={};folder[\".tag\"]=\"folder\";var newFolder=_objectSpread({},folder,{},response.metadata);var allFolders=[].concat(_toConsumableArray(folders),[newFolder]);_this.props.setFolderState(allFolders);});};_this.state={showCreateFolder:false};_this.inputRef=React.createRef();return _this;}//simulera som om man klickade på input type fil\n_createClass(RightNav,[{key:\"render\",value:function render(){var showCreateFolder=this.state.showCreateFolder;return React.createElement(\"div\",{className:\"sidebarRight\"},React.createElement(\"ul\",null,React.createElement(\"li\",{onClick:this.createFile},\"Upload File\",React.createElement(\"input\",{accept:\"jpg, jpeg, png, tiff, tif, gif, bmp\",className:\"input\",onChange:this.onChangeFile,type:\"file\",hidden:\"hidden\",ref:this.inputRef}),\" \"),React.createElement(\"br\",null),React.createElement(\"li\",null,\" Upload Map \"),React.createElement(\"br\",null),React.createElement(\"li\",{onClick:this.onShowCreateFolder},\"Create Folder\"),showCreateFolder===true?React.createElement(CreateFolder,{showCreateFolder:showCreateFolder,createFolder:this.createFolder,onCloseCreateFolder:this.onCloseCreateFolder}):null,React.createElement(\"br\",null),React.createElement(\"li\",null,React.createElement(GoBack,{path:this.props.path}))),React.createElement(\"p\",{className:\"sideText\"},\"Choose your option\"));}}]);return RightNav;}(Component);export default RightNav;","map":{"version":3,"sources":["C:/Users/Motar/Desktop/Online/mandatory-advanced-js5/src/Components/RightNav.js"],"names":["React","Component","CreateFolder","GoBack","RightNav","props","createFile","inputRef","current","click","onShowCreateFolder","setState","showCreateFolder","onCloseCreateFolder","onChangeFile","files","file","path","name","dbx","filesUpload","contents","autorename","then","response","metadata","uniteFiles","setFileState","createFolder","folders","filesCreateFolderV2","folder","newFolder","allFolders","setFolderState","state","createRef"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport CreateFolder from './CreateFolder'\r\nimport GoBack from './GoBack'\r\n\r\nimport '../Css/icons.css'\r\nimport '../Css/mainFiles.css'\r\nimport '../Css/nav.css'\r\nimport '../Css/UlItems.css'\r\n\r\n// Det är vår nav som finns i höger sidan!\r\nclass RightNav extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            showCreateFolder: false,\r\n        }\r\n        this.inputRef = React.createRef();\r\n    }\r\n\r\n    //simulera som om man klickade på input type fil\r\n    createFile = () =>{\r\n      this.inputRef.current.click();\r\n    }\r\n\r\n    // Visar fönstret när man klickar på skapa folder\r\n    onShowCreateFolder= () =>{\r\n      this.setState({showCreateFolder: true})\r\n    }\r\n\r\n    // Stänger fönstret när man klickar på skapa folder\r\n    onCloseCreateFolder = () =>{\r\n      this.setState({showCreateFolder: false})\r\n    }\r\n\r\n    //Ladda upp file\r\n    onChangeFile = () =>{\r\n      const{files} = this.props\r\n      let file = this.inputRef.current.files[0]\r\n      if(file){\r\n        let path = `/${file.name}`\r\n        if(this.props.path){\r\n          path = `/${this.props.path}/${file.name}`\r\n        }\r\n        this.props.dbx.filesUpload({contents:file, path: path, autorename: true})\r\n        .then(response=>{\r\n          let file = {}\r\n          file[\".tag\"] = \"success\"\r\n          let createFile = {file,metadata: response}\r\n          let uniteFiles = [...files, createFile]\r\n          this.props.setFileState(uniteFiles)\r\n        })\r\n      }\r\n    }\r\n\r\n    //Skapa Folders\r\n    createFolder = (name) =>{\r\n      const{folders} = this.props\r\n      let path = `/${name}`\r\n      if(this.props.path){\r\n        path = `/${this.props.path}/${name}`\r\n      }\r\n      this.props.dbx.filesCreateFolderV2({path: path, autorename:true })\r\n      .then(response =>{\r\n        let folder = {}\r\n        folder[\".tag\"] = \"folder\"\r\n        let newFolder = {...folder,...response.metadata}\r\n        let allFolders = [...folders, newFolder]\r\n        this.props.setFolderState(allFolders)\r\n      })\r\n      }\r\n      \r\n    render() {\r\n        const{showCreateFolder} = this.state\r\n        return (\r\n            <div className=\"sidebarRight\">\r\n            <ul>\r\n                <li onClick={this.createFile}>Upload File<input accept=\"jpg, jpeg, png, tiff, tif, gif, bmp\" className=\"input\"  onChange={this.onChangeFile} type=\"file\" hidden=\"hidden\" ref={this.inputRef}/> </li>\r\n                <br />\r\n                <li> Upload Map </li>\r\n                <br/>\r\n                <li onClick={this.onShowCreateFolder}>\r\n                Create Folder\r\n                </li>\r\n                {showCreateFolder === true ?\r\n                <CreateFolder showCreateFolder={showCreateFolder} createFolder={this.createFolder} onCloseCreateFolder={this.onCloseCreateFolder}/>\r\n                : null}\r\n                <br />\r\n                <li><GoBack path={this.props.path}/></li>\r\n            </ul>\r\n              <p className=\"sideText\">Choose your option</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default RightNav"]},"metadata":{},"sourceType":"module"}